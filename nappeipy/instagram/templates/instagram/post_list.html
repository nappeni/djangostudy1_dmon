{% load bootstrap5 %}

<!doctype html>
<html lang="ko">
<head>
    <meta charset="utf-8" />
    <title>Instagram / Post_List</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js" integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N" crossorigin="anonymous"></script>
</head>
<body>
<style>
    .pagination { justify-content: center; }
</style>

<div style="padding:10px;">
    {# Form - Search #}
    <form method="get" action="">
        <input type="text" name="q" class="form-control" style="width:30%; display:inline-block;" placeholder="키워드 검색" required value="{{ q }}" autofocus />
        <input type="submit" class="btn btn-primary" value="검색">
    </form>

    {% if is_paginated %}
        <div style="margin-top:10px;">{{ page_obj }}</div>
    {% endif %}

    <table class="table table-bordered" style="margin-top:10px;">
        <tbody>
        {% for post in post_list %}
        <tr>
            <td valign="middle" class="text-center" style="width:5%; min-width:80px;">{{ post.pk }}</td>
            <td valign="middle">
                {{ post.message }}
            </td>
            <td valign="middle">
                {% if post.photo %}
                    <img src="{{ post.photo.url }}" alt="" style="width:100px;">
                {% else %}
                    NO PHOTO
                {% endif %}
            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>

    {% if is_paginated %}
        {% bootstrap_pagination page_obj size="small" %}
    {% endif %}
</div>


</body>
</html>

